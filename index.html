<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SaludSimple - Asistente m√©dico con IA. Consulta s√≠ntomas, analiza documentos y traduce t√©rminos m√©dicos.">
    <title>SaludSimple - Tu Asistente M√©dico Inteligente</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
    <!-- Leaflet CSS para el mapa -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <!-- Google Sign-In -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <!-- PDF.js para leer PDFs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <!-- Tesseract.js para OCR -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
</head>
<body class="font-inter bg-gradient-to-br from-purple-50 via-white to-blue-50 min-h-screen">
    
    <!-- ADVERTENCIA M√âDICA SUPERIOR -->
    <div class="bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200">
        <div class="container mx-auto px-6 py-3">
            <div class="flex items-center justify-center text-center">
                <svg class="w-5 h-5 text-amber-600 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                </svg>
                <p class="text-sm text-amber-800">
                    <strong>Importante:</strong> Este asistente NO reemplaza la consulta m√©dica profesional. Si te sientes mal, consulta con un doctor.
                    <span class="hidden md:inline">En emergencias, llama al 911.</span>
                </p>
            </div>
        </div>
    </div>
    
    <!-- HEADER CON LOGO CREATIVO -->
    <header class="glass-effect sticky top-0 z-50 shadow-lg">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="mostrarSeccion('inicio')">
                    <div class="relative">
                        <svg class="w-14 h-14" viewBox="0 0 100 100">
                            <defs>
                                <linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#0066CC"/>
                                    <stop offset="50%" style="stop-color:#17A2B8"/>
                                    <stop offset="100%" style="stop-color:#00A86B"/>
                                </linearGradient>
                                <filter id="glow">
                                    <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                    <feMerge>
                                        <feMergeNode in="coloredBlur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                            </defs>
                            <!-- C√≠rculo exterior -->
                            <circle cx="50" cy="50" r="45" fill="url(#logoGrad)" filter="url(#glow)"/>
                            <!-- Cruz m√©dica -->
                            <rect x="42" y="25" width="16" height="50" rx="3" fill="white" opacity="0.95"/>
                            <rect x="25" y="42" width="50" height="16" rx="3" fill="white" opacity="0.95"/>
                            <!-- Coraz√≥n m√©dico en el centro -->
                            <path d="M50 58 L43 51 Q40 48 40 45 Q40 41 43 41 Q46 41 50 45 Q54 41 57 41 Q60 41 60 45 Q60 48 57 51 Z" fill="#00A86B" opacity="0.95"/>
                            <!-- Pulso vital -->
                            <polyline points="20,50 25,50 28,45 32,55 35,50 40,50" stroke="white" stroke-width="2.5" fill="none" opacity="0.9"/>
                            <polyline points="60,50 65,50 68,45 72,55 75,50 80,50" stroke="white" stroke-width="2.5" fill="none" opacity="0.9"/>
                        </svg>
                        <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-ping"></div>
                        <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full"></div>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold gradient-text">SaludSimple</h1>
                        <p class="text-xs text-gray-500">Powered by AI</p>
                    </div>
                </div>
                
                <div class="hidden md:flex items-center space-x-6">
                    <button onclick="mostrarSeccion('inicio')" class="nav-link">Inicio</button>
                    <button onclick="verificarAutenticacionYMostrar('diagnostico')" class="nav-link">Diagn√≥stico IA</button>
                    <button onclick="mostrarSeccion('traductor')" class="nav-link">Traductor</button>
                    <button onclick="verificarAutenticacionYMostrar('documentos')" class="nav-link">üìÑ Documentos</button>
                    <button onclick="mostrarSeccion('mapa')" class="nav-link">üó∫Ô∏è Mapa</button>
                    
                    <button onclick="verificarAutenticacionYMostrar('citas')" class="btn-primary">üìÖ Reservar Cita</button>
                    
                    <!-- Bot√≥n de Usuario -->
                    <div id="user-menu" class="hidden relative">
                        <button onclick="toggleUserDropdown()" class="flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-full hover:shadow-lg transition">
                            <img id="user-avatar" src="" alt="User" class="w-8 h-8 rounded-full border-2 border-white">
                            <span id="user-name" class="font-medium"></span>
                        </button>
                        <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2 z-50">
                            <button onclick="mostrarSeccion('mis-citas')" class="block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">üìã Mis Citas</button>
                            <button onclick="cerrarSesion()" class="block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">Cerrar Sesi√≥n</button>
                        </div>
                    </div>
                    
                    <!-- Bot√≥n de Login -->
                    <button id="login-btn" onclick="mostrarModalLogin()" class="bg-gradient-to-r from-blue-600 to-teal-600 text-white px-6 py-2.5 rounded-full font-semibold hover:shadow-xl transition-all duration-300 transform hover:scale-105 hover:from-blue-700 hover:to-teal-700">
                        Iniciar Sesi√≥n
                    </button>
                </div>
                
                <button id="menu-toggle" class="md:hidden text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
            
            <div id="mobile-menu" class="hidden md:hidden mt-4 space-y-2">
                <button onclick="mostrarSeccion('inicio')" class="block w-full text-left py-2 px-4 hover:bg-purple-50 rounded">Inicio</button>
                <button onclick="verificarAutenticacionYMostrar('diagnostico')" class="block w-full text-left py-2 px-4 hover:bg-purple-50 rounded">Diagn√≥stico IA</button>
                <button onclick="mostrarSeccion('traductor')" class="block w-full text-left py-2 px-4 hover:bg-purple-50 rounded">Traductor</button>
                <button onclick="verificarAutenticacionYMostrar('documentos')" class="block w-full text-left py-2 px-4 hover:bg-purple-50 rounded">üìÑ Documentos M√©dicos</button>
                <button onclick="mostrarSeccion('mapa')" class="block w-full text-left py-2 px-4 hover:bg-purple-50 rounded">üó∫Ô∏è Mapa de Cl√≠nicas</button>
                <button onclick="verificarAutenticacionYMostrar('citas')" class="block w-full text-left py-2 px-4 hover:bg-purple-50 rounded">üìÖ Reservar Cita</button>
                
                <!-- Usuario en m√≥vil -->
                <div id="mobile-user-info" class="hidden pt-2 border-t border-gray-200">
                    <div class="flex items-center px-4 py-2">
                        <img id="mobile-user-avatar" src="" alt="User" class="w-10 h-10 rounded-full border-2 border-purple-500 mr-3">
                        <span id="mobile-user-name" class="font-medium text-gray-800"></span>
                    </div>
                    <button onclick="cerrarSesion()" class="block w-full text-left py-2 px-4 text-red-600 hover:bg-red-50 rounded">Cerrar Sesi√≥n</button>
                </div>
                
                <button id="mobile-login-btn" onclick="mostrarModalLogin()" class="block w-full text-center py-3 px-4 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                    Iniciar Sesi√≥n
                </button>
            </div>
        </nav>
    </header>

    <!-- MODAL API -->
    <div id="api-modal" class="modal hidden">
        <div class="modal-content glass-effect rounded-3xl p-8 max-w-md mx-4">
            <div class="text-center mb-6">
                <div class="inline-block p-4 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl mb-4">
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">üîë Configurar API</h3>
                <p class="text-gray-600 text-sm">Necesitas una API key para usar la IA</p>
            </div>
            
            <div class="space-y-4 mb-6">
                <div class="border-2 border-blue-200 rounded-xl p-4">
                    <h4 class="font-bold text-blue-600 mb-2">OpenAI (ChatGPT)</h4>
                    <p class="text-xs text-gray-600 mb-2">Obt√©n tu key en: <a href="https://platform.openai.com/api-keys" target="_blank" class="text-blue-500 underline">platform.openai.com</a></p>
                    <input type="password" id="openai-key" placeholder="sk-..." class="w-full px-3 py-2 border-2 rounded-lg focus:outline-none focus:border-blue-500"/>
                </div>
                
                <div class="border-2 border-green-200 rounded-xl p-4">
                    <h4 class="font-bold text-green-600 mb-2">Groq (Gratuito)</h4>
                    <p class="text-xs text-gray-600 mb-2">Obt√©n tu key en: <a href="https://console.groq.com/keys" target="_blank" class="text-blue-500 underline">console.groq.com</a></p>
                    <input type="password" id="groq-key" placeholder="gsk_..." class="w-full px-3 py-2 border-2 rounded-lg focus:outline-none focus:border-green-500"/>
                </div>
            </div>
            
            <div class="flex gap-3">
                <button onclick="guardarAPIKey()" class="btn-primary flex-1">Guardar</button>
                <button onclick="cerrarModal()" class="btn-secondary flex-1">Cancelar</button>
            </div>
            <p class="text-xs text-gray-500 mt-4 text-center">üí° Se guarda solo en tu navegador</p>
        </div>
    </div>


    <!-- CONTENIDO -->
    <main class="container mx-auto px-6 py-8">
        
        <!-- INICIO -->
        <section id="seccion-inicio" class="seccion active">
            <div class="text-center max-w-4xl mx-auto mb-16">
                <span class="px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold inline-block mb-4">üè• IA M√©dica Profesional</span>
                <h2 class="text-5xl md:text-6xl font-bold text-gray-800 mb-6">Tu Salud, <span class="gradient-text">Explicada Claramente</span></h2>
                <p class="text-xl text-gray-600 mb-8">Consulta s√≠ntomas con IA y traduce t√©rminos m√©dicos complejos</p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="mostrarSeccion('diagnostico')" class="btn-primary text-lg px-8 py-4">ü§ñ Consultar S√≠ntomas</button>
                    <button onclick="mostrarSeccion('traductor')" class="btn-secondary text-lg px-8 py-4">üìñ Traducir T√©rmino</button>
                    <button onclick="mostrarSeccion('citas')" class="bg-gradient-to-r from-teal-500 to-green-600 text-white text-lg px-8 py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all">üìÖ Reservar Cita</button>
                </div>
            </div>
            
            <!-- Caracter√≠sticas Principales -->
            <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto mb-16">
                <div class="feature-card glass-effect rounded-3xl p-8">
                    <div class="inline-block p-4 bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl mb-4">
                        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-3">Diagn√≥stico Inteligente</h3>
                    <p class="text-gray-600 mb-4">Describe tus s√≠ntomas y recibe orientaci√≥n m√©dica instant√°nea con IA avanzada</p>
                    <div class="flex items-center text-sm text-gray-500 mb-4">
                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        Respuesta en segundos
                    </div>
                    <button onclick="mostrarSeccion('diagnostico')" class="mt-4 text-blue-600 font-semibold hover:text-blue-700 transition">Probar ahora ‚Üí</button>
                </div>
                
                <div class="feature-card glass-effect rounded-3xl p-8">
                    <div class="inline-block p-4 bg-gradient-to-br from-green-500 to-teal-600 rounded-2xl mb-4">
                        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-3">Traductor M√©dico</h3>
                    <p class="text-gray-600 mb-4">Convierte t√©rminos m√©dicos complejos en explicaciones claras y comprensibles</p>
                    <div class="flex items-center text-sm text-gray-500 mb-4">
                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        Lenguaje simple
                    </div>
                    <button onclick="mostrarSeccion('traductor')" class="mt-4 text-green-600 font-semibold hover:text-green-700 transition">Traducir ahora ‚Üí</button>
                </div>
            </div>
            
            <!-- Novedades / Nuevas Funcionalidades -->
            <div class="max-w-5xl mx-auto mb-16">
                <div class="text-center mb-8">
                    <span class="inline-block bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-full text-sm font-bold mb-4">‚ú® NUEVAS FUNCIONALIDADES</span>
                    <h3 class="text-3xl font-bold text-gray-800">Lo √öltimo en SaludSimple</h3>
                </div>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="glass-effect rounded-2xl p-6 hover:shadow-xl transition">
                        <div class="inline-block p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl mb-3">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                        </div>
                        <h4 class="text-lg font-bold text-gray-800 mb-2">üìÑ An√°lisis de Documentos</h4>
                        <p class="text-gray-600 text-sm">Sube tus ex√°menes m√©dicos en PDF o imagen y obt√©n una explicaci√≥n clara de los resultados con tecnolog√≠a OCR.</p>
                    </div>
                    <div class="glass-effect rounded-2xl p-6 hover:shadow-xl transition">
                        <div class="inline-block p-3 bg-gradient-to-br from-blue-500 to-teal-500 rounded-xl mb-3">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                        </div>
                        <h4 class="text-lg font-bold text-gray-800 mb-2">üó∫Ô∏è Mapa Interactivo</h4>
                        <p class="text-gray-600 text-sm">Encuentra hospitales y cl√≠nicas cercanas en El Salvador con nuestro mapa interactivo integrado en el sistema de citas.</p>
                    </div>
                    <div class="glass-effect rounded-2xl p-6 hover:shadow-xl transition">
                        <div class="inline-block p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl mb-3">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                        </div>
                        <h4 class="text-lg font-bold text-gray-800 mb-2">üìÖ Sistema de Citas Mejorado</h4>
                        <p class="text-gray-600 text-sm">Reserva citas m√©dicas con un proceso simplificado de 3 pasos, selecci√≥n visual de ubicaciones y confirmaci√≥n por email.</p>
                    </div>
                </div>
            </div>
            
            <!-- Estad√≠sticas -->
            <div class="bg-gradient-to-r from-blue-600 to-teal-600 rounded-3xl p-12 mb-16 max-w-5xl mx-auto shadow-2xl">
                <h3 class="text-3xl font-bold text-white text-center mb-8">Confiado por Miles de Usuarios</h3>
                <div class="grid md:grid-cols-4 gap-8 text-center text-white">
                    <div>
                        <div class="text-4xl font-bold mb-2">15K+</div>
                        <div class="text-blue-100">Consultas Realizadas</div>
                    </div>
                    <div>
                        <div class="text-4xl font-bold mb-2">98%</div>
                        <div class="text-blue-100">Satisfacci√≥n</div>
                    </div>
                    <div>
                        <div class="text-4xl font-bold mb-2">24/7</div>
                        <div class="text-blue-100">Disponible</div>
                    </div>
                    <div>
                        <div class="text-4xl font-bold mb-2">8</div>
                        <div class="text-blue-100">Especialidades</div>
                    </div>
                </div>
            </div>
            
            <!-- C√≥mo Funciona -->
            <div class="max-w-5xl mx-auto mb-16">
                <h3 class="text-3xl font-bold text-gray-800 text-center mb-12">¬øC√≥mo Funciona?</h3>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="text-center">
                        <div class="inline-block p-6 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full mb-6 shadow-xl">
                            <span class="text-4xl font-bold text-white">1</span>
                        </div>
                        <h4 class="text-xl font-bold text-gray-800 mb-3">Describe tus S√≠ntomas</h4>
                        <p class="text-gray-600">Cu√©ntale a nuestra IA c√≥mo te sientes. S√© lo m√°s espec√≠fico posible para obtener mejor orientaci√≥n.</p>
                    </div>
                    <div class="text-center">
                        <div class="inline-block p-6 bg-gradient-to-br from-teal-500 to-green-600 rounded-full mb-6 shadow-xl">
                            <span class="text-4xl font-bold text-white">2</span>
                        </div>
                        <h4 class="text-xl font-bold text-gray-800 mb-3">Recibe Orientaci√≥n</h4>
                        <p class="text-gray-600">La IA analiza tu informaci√≥n y te proporciona explicaciones claras sobre posibles causas.</p>
                    </div>
                    <div class="text-center">
                        <div class="inline-block p-6 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full mb-6 shadow-xl">
                            <span class="text-4xl font-bold text-white">3</span>
                        </div>
                        <h4 class="text-xl font-bold text-gray-800 mb-3">Consulta un M√©dico</h4>
                        <p class="text-gray-600">Si es necesario, agenda una cita con un profesional. Recuerda: la IA no reemplaza al doctor.</p>
                    </div>
                </div>
            </div>
            
            <!-- Testimonios -->
            <div class="max-w-5xl mx-auto mb-16">
                <h3 class="text-3xl font-bold text-gray-800 text-center mb-12">Lo que Dicen Nuestros Usuarios</h3>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="glass-effect rounded-2xl p-6 shadow-lg">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                MC
                            </div>
                            <div class="ml-3">
                                <h5 class="font-bold text-gray-800">Mar√≠a Carmen</h5>
                                <div class="flex text-yellow-400 text-sm">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                            </div>
                        </div>
                        <p class="text-gray-600 italic">"La IA me ayud√≥ a entender mis s√≠ntomas antes de ir al doctor. Muy √∫til para saber si es urgente o no."</p>
                    </div>
                    
                    <div class="glass-effect rounded-2xl p-6 shadow-lg">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-teal-500 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                JR
                            </div>
                            <div class="ml-3">
                                <h5 class="font-bold text-gray-800">Jos√© Ram√≠rez</h5>
                                <div class="flex text-yellow-400 text-sm">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                            </div>
                        </div>
                        <p class="text-gray-600 italic">"El traductor m√©dico es incre√≠ble. Por fin entiendo lo que me dice mi doctor sin tener que buscar en Google."</p>
                    </div>
                    
                    <div class="glass-effect rounded-2xl p-6 shadow-lg">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                AL
                            </div>
                            <div class="ml-3">
                                <h5 class="font-bold text-gray-800">Ana L√≥pez</h5>
                                <div class="flex text-yellow-400 text-sm">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                            </div>
                        </div>
                        <p class="text-gray-600 italic">"Reservar citas nunca fue tan f√°cil. El sistema es muy intuitivo y recib√≠ mi confirmaci√≥n al instante."</p>
                    </div>
                </div>
            </div>
            
            <!-- FAQ -->
            <div class="max-w-4xl mx-auto mb-16">
                <h3 class="text-3xl font-bold text-gray-800 text-center mb-12">Preguntas Frecuentes</h3>
                <div class="space-y-4">
                    <details class="glass-effect rounded-xl p-6 cursor-pointer hover:shadow-lg transition">
                        <summary class="font-bold text-gray-800 text-lg flex items-center">
                            <svg class="w-5 h-5 mr-3 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                            </svg>
                            ¬øEl asistente virtual reemplaza a un m√©dico?
                        </summary>
                        <p class="text-gray-600 mt-4 ml-8">
                            <strong>NO.</strong> El asistente con IA es una herramienta informativa que te ayuda a entender tus s√≠ntomas, pero <strong>nunca reemplaza el diagn√≥stico de un profesional m√©dico.</strong> Siempre consulta con un doctor para diagn√≥sticos definitivos y tratamientos.
                        </p>
                    </details>
                    
                    <details class="glass-effect rounded-xl p-6 cursor-pointer hover:shadow-lg transition">
                        <summary class="font-bold text-gray-800 text-lg flex items-center">
                            <svg class="w-5 h-5 mr-3 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                            </svg>
                            ¬øEs seguro usar esta plataforma?
                        </summary>
                        <p class="text-gray-600 mt-4 ml-8">
                            S√≠, tu informaci√≥n est√° protegida. No almacenamos datos m√©dicos sensibles. La IA procesa tu consulta de forma segura y las conversaciones no se guardan permanentemente.
                        </p>
                    </details>
                    
                    <details class="glass-effect rounded-xl p-6 cursor-pointer hover:shadow-lg transition">
                        <summary class="font-bold text-gray-800 text-lg flex items-center">
                            <svg class="w-5 h-5 mr-3 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                            </svg>
                            ¬øCu√°ndo debo ir al doctor en lugar de usar la IA?
                        </summary>
                        <p class="text-gray-600 mt-4 ml-8">
                            Debes consultar un m√©dico inmediatamente si tienes: dolor de pecho intenso, dificultad para respirar, sangrado abundante, fiebre muy alta, s√≠ntomas que empeoran r√°pidamente, o cualquier emergencia m√©dica. <strong>En caso de emergencia, llama al 911.</strong>
                        </p>
                    </details>
                    
                    <details class="glass-effect rounded-xl p-6 cursor-pointer hover:shadow-lg transition">
                        <summary class="font-bold text-gray-800 text-lg flex items-center">
                            <svg class="w-5 h-5 mr-3 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                            </svg>
                            ¬øQu√© tecnolog√≠as utilizan?
                        </summary>
                        <p class="text-gray-600 mt-4 ml-8">
                            Utilizamos <strong>Groq (Llama 3.3 70B)</strong> para el chat m√©dico, <strong>Tesseract.js</strong> para OCR (lectura de documentos), <strong>PDF.js</strong> para an√°lisis de PDFs, <strong>Leaflet.js</strong> para mapas interactivos, y <strong>PostgreSQL</strong> para almacenamiento seguro. Todo respaldado por tecnolog√≠a de IA de √∫ltima generaci√≥n.
                        </p>
                    </details>
                    
                    <details class="glass-effect rounded-xl p-6 cursor-pointer hover:shadow-lg transition">
                        <summary class="font-bold text-gray-800 text-lg flex items-center">
                            <svg class="w-5 h-5 mr-3 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                            </svg>
                            ¬øTiene alg√∫n costo?
                        </summary>
                        <p class="text-gray-600 mt-4 ml-8">
                            El asistente virtual y el traductor m√©dico son completamente gratuitos. La reserva de citas tambi√©n es gratuita, aunque las consultas m√©dicas tienen el costo est√°ndar de cada especialista.
                        </p>
                    </details>
                </div>
            </div>
        </section>

        <!-- DIAGN√ìSTICO -->
        <section id="seccion-diagnostico" class="seccion hidden">
            <button onclick="mostrarSeccion('inicio')" class="text-purple-600 mb-6 flex items-center">‚Üê Volver</button>
            <div class="glass-effect rounded-3xl p-8 shadow-2xl max-w-4xl mx-auto">
                <div class="text-center mb-8">
                    <div class="inline-block p-4 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl mb-4">
                        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">ü§ñ Asistente de Diagn√≥stico</h2>
                    <p class="text-gray-600">Describe tus s√≠ntomas</p>
                    <div id="api-status" class="mt-3"></div>
                    
                    <!-- Advertencia M√©dica Destacada -->
                    <div class="mt-4 bg-gradient-to-r from-red-50 to-orange-50 border-2 border-red-300 rounded-xl p-4 max-w-2xl mx-auto">
                        <div class="flex items-start">
                            <svg class="w-6 h-6 text-red-600 mr-3 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                            </svg>
                            <div>
                                <p class="text-sm font-bold text-red-800 mb-1">‚ö†Ô∏è ADVERTENCIA IMPORTANTE</p>
                                <p class="text-xs text-red-700">Este asistente <strong>NO reemplaza</strong> el diagn√≥stico de un m√©dico profesional. La informaci√≥n proporcionada es solo orientativa. Si tienes s√≠ntomas graves o dudas, <strong>consulta a un m√©dico inmediatamente</strong>.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="chat-container" class="chat-container bg-gradient-to-br from-gray-50 to-purple-50 rounded-2xl p-6 mb-6 min-h-[400px] max-h-[500px] overflow-y-auto">
                    <div class="chat-message mb-4">
                        <div class="flex items-start">
                            <div class="bg-gradient-to-br from-purple-500 to-pink-500 text-white p-3 rounded-2xl mr-3 shadow-lg">
                                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"/>
                                </svg>
                            </div>
                            <div class="bg-white rounded-2xl shadow-md p-5 max-w-md">
                                <p class="text-gray-800 font-medium mb-2">¬°Hola! üëã Soy tu asistente m√©dico con IA.</p>
                                <p class="text-gray-600 text-sm mb-3">Ejemplos:</p>
                                <ul class="text-sm text-gray-600 space-y-2">
                                    <li>‚Ä¢ "Tengo dolor de cabeza y fiebre"</li>
                                    <li>‚Ä¢ "Me duele la garganta al tragar"</li>
                                    <li>‚Ä¢ "Tengo tos seca hace 3 d√≠as"</li>
                                </ul>
                                <p class="text-xs text-gray-500 mt-3">‚ö†Ô∏è No reemplazo diagn√≥stico m√©dico</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex gap-3">
                    <input type="text" id="chat-input" placeholder="Describe tus s√≠ntomas..." class="flex-1 px-5 py-4 border-2 rounded-xl focus:outline-none focus:border-purple-500" onkeypress="if(event.key==='Enter') enviarMensaje()"/>
                    <button onclick="enviarMensaje()" class="btn-primary px-8 py-4 rounded-xl">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                        </svg>
                    </button>
                </div>
                
                <div class="mt-4 flex gap-2 flex-wrap">
                    <button onclick="usarSugerencia('Tengo dolor de cabeza y fiebre')" class="suggestion-btn">Dolor de cabeza</button>
                    <button onclick="usarSugerencia('Me duele la garganta')" class="suggestion-btn">Dolor de garganta</button>
                    <button onclick="usarSugerencia('Tengo tos persistente')" class="suggestion-btn">Tos</button>
                </div>
            </div>
        </section>

        <!-- TRADUCTOR -->
        <section id="seccion-traductor" class="seccion hidden">
            <button onclick="mostrarSeccion('inicio')" class="text-purple-600 mb-6 flex items-center">‚Üê Volver</button>
            <div class="glass-effect rounded-3xl p-8 shadow-2xl max-w-4xl mx-auto">
                <div class="text-center mb-8">
                    <div class="inline-block p-4 bg-gradient-to-br from-green-500 to-teal-500 rounded-2xl mb-4">
                        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">üìñ Traductor M√©dico</h2>
                    <p class="text-gray-600">Convierte t√©rminos complejos en lenguaje simple</p>
                </div>
                
                <div class="space-y-6">
                    <div class="relative">
                        <input type="text" id="termino-input" placeholder="Ej: Hipertensi√≥n, Diabetes, Cefalea..." class="w-full px-5 py-4 border-2 rounded-xl focus:outline-none focus:border-green-500 text-lg" onkeypress="if(event.key==='Enter') traducirTermino()"/>
                        <div class="absolute right-4 top-4 text-gray-400">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                        </div>
                    </div>
                    
                    <button onclick="traducirTermino()" class="btn-primary w-full py-4 text-lg rounded-xl">üîç Traducir con IA</button>
                    
                    <div class="flex gap-2 flex-wrap">
                        <button onclick="usarTermino('Hipertensi√≥n')" class="suggestion-btn">Hipertensi√≥n</button>
                        <button onclick="usarTermino('Diabetes')" class="suggestion-btn">Diabetes</button>
                        <button onclick="usarTermino('Cefalea')" class="suggestion-btn">Cefalea</button>
                        <button onclick="usarTermino('Arritmia')" class="suggestion-btn">Arritmia</button>
                    </div>
                    
                    <div id="traduccion-resultado" class="hidden">
                        <div class="bg-gradient-to-br from-green-50 to-blue-50 border-l-4 border-green-500 p-6 rounded-xl shadow-lg">
                            <div class="flex items-start">
                                <svg class="w-6 h-6 text-green-500 mr-3 mt-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                </svg>
                                <div class="flex-1">
                                    <h4 class="font-bold text-gray-800 mb-3 text-xl" id="termino-titulo"></h4>
                                    <div class="text-gray-700" id="termino-explicacion"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECCI√ìN: RESERVA DE CITAS -->
        <section id="seccion-citas" class="seccion hidden">
            <button onclick="mostrarSeccion('inicio')" class="text-blue-600 mb-6 flex items-center hover:text-blue-700 transition">‚Üê Volver</button>
            <div class="glass-effect rounded-3xl p-8 shadow-2xl max-w-5xl mx-auto">
                <div class="text-center mb-8">
                    <div class="inline-block p-4 bg-gradient-to-br from-blue-600 to-teal-600 rounded-2xl mb-4">
                        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">üìÖ Reservar Cita M√©dica</h2>
                    <p class="text-gray-600">Completa el proceso en 3 simples pasos</p>
                </div>
                
                <!-- Barra de Progreso -->
                <div class="mb-8">
                    <div class="flex justify-between items-center mb-3">
                        <span class="text-sm font-semibold text-gray-600">Paso <span id="paso-actual">1</span> de 3</span>
                        <span class="text-sm font-semibold text-blue-600"><span id="progreso-porcentaje">33</span>%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                        <div id="barra-progreso" class="bg-gradient-to-r from-blue-600 to-teal-600 h-3 rounded-full transition-all duration-500" style="width: 33%"></div>
                    </div>
                    <div class="flex justify-between mt-2 text-xs text-gray-500">
                        <span>üìù Datos</span>
                        <span>üìÖ Fecha/Hora</span>
                        <span>‚úì Confirmar</span>
                    </div>
                </div>
                
                <form id="form-citas">
                    <!-- PASO 1: Informaci√≥n Personal -->
                    <div id="paso-1" class="paso-cita">
                        <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                            <span class="bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3">1</span>
                            Informaci√≥n Personal
                        </h3>
                        <div class="space-y-6">
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Nombre completo *</label>
                                    <input type="text" id="cita-nombre" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 transition" placeholder="Juan P√©rez"/>
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Correo electr√≥nico *</label>
                                    <input type="email" id="cita-correo" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 transition" placeholder="correo@ejemplo.com"/>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Tel√©fono *</label>
                                <input type="tel" id="cita-telefono" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 transition" placeholder="(503) 1234-5678"/>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Tipo de cita *</label>
                                    <select id="cita-tipo" required onchange="actualizarTipoCita()" class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 transition">
                                        <option value="">Seleccionar...</option>
                                        <option value="virtual">üíª Virtual (Videollamada)</option>
                                        <option value="presencial">üè• Presencial</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Especialidad *</label>
                                    <select id="cita-especialidad" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 transition">
                                        <option value="">Seleccionar...</option>
                                        <option value="medicina-general">Medicina General</option>
                                        <option value="cardiologia">Cardiolog√≠a</option>
                                        <option value="dermatologia">Dermatolog√≠a</option>
                                        <option value="pediatria">Pediatr√≠a</option>
                                        <option value="ginecologia">Ginecolog√≠a</option>
                                        <option value="traumatologia">Traumatolog√≠a</option>
                                        <option value="psicologia">Psicolog√≠a</option>
                                        <option value="nutricion">Nutrici√≥n</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Mini Mapa Integrado (solo para citas presenciales) -->
                            <div id="contenedor-mapa-cita" class="hidden">
                                <label class="block text-gray-700 font-semibold mb-2">üó∫Ô∏è Selecciona el lugar de atenci√≥n *</label>
                                <div class="border-2 border-gray-300 rounded-xl overflow-hidden mb-2">
                                    <div id="mapa-cita" class="w-full h-80"></div>
                                </div>
                                <input type="text" id="cita-lugar" readonly required class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl bg-blue-50 font-semibold text-blue-800" placeholder="Haz clic en un marcador del mapa"/>
                                <p class="text-xs text-gray-500 mt-1">üëÜ Haz clic en cualquier hospital o cl√≠nica del mapa para seleccionarlo</p>
                            </div>
                            
                            <button type="button" onclick="siguientePasoCita(2)" class="btn-primary w-full py-4 text-lg rounded-xl">
                                Continuar al Paso 2 ‚Üí
                            </button>
                        </div>
                    </div>
                    
                    <!-- PASO 2: Fecha y Hora -->
                    <div id="paso-2" class="paso-cita hidden">
                        <button type="button" onclick="siguientePasoCita(1)" class="text-blue-600 mb-4 flex items-center hover:text-blue-700 transition">‚Üê Volver</button>
                        <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                            <span class="bg-teal-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3">2</span>
                            Fecha y Hora
                        </h3>
                        <div class="space-y-6">
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Fecha de la cita *</label>
                                    <input type="date" id="cita-fecha" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 transition"/>
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Hora de la cita *</label>
                                    <select id="cita-hora" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 transition">
                                        <option value="">Seleccionar hora...</option>
                                        <option value="08:00">08:00 AM</option>
                                        <option value="08:30">08:30 AM</option>
                                        <option value="09:00">09:00 AM</option>
                                        <option value="09:30">09:30 AM</option>
                                        <option value="10:00">10:00 AM</option>
                                        <option value="10:30">10:30 AM</option>
                                        <option value="11:00">11:00 AM</option>
                                        <option value="11:30">11:30 AM</option>
                                        <option value="12:00">12:00 PM</option>
                                        <option value="14:00">02:00 PM</option>
                                        <option value="14:30">02:30 PM</option>
                                        <option value="15:00">03:00 PM</option>
                                        <option value="15:30">03:30 PM</option>
                                        <option value="16:00">04:00 PM</option>
                                        <option value="16:30">04:30 PM</option>
                                        <option value="17:00">05:00 PM</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Motivo de consulta *</label>
                                <textarea id="cita-motivo" required rows="4" class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 transition" placeholder="Describe brevemente el motivo de tu consulta..."></textarea>
                            </div>
                            
                            <button type="button" onclick="siguientePasoCita(3)" class="btn-primary w-full py-4 text-lg rounded-xl">
                                Continuar al Paso 3 ‚Üí
                            </button>
                        </div>
                    </div>
                    
                    <!-- PASO 3: Confirmaci√≥n -->
                    <div id="paso-3" class="paso-cita hidden">
                        <button type="button" onclick="siguientePasoCita(2)" class="text-blue-600 mb-4 flex items-center hover:text-blue-700 transition">‚Üê Volver</button>
                        <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                            <span class="bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3">3</span>
                            Confirmar Datos
                        </h3>
                        <div class="bg-gradient-to-br from-blue-50 to-teal-50 rounded-2xl p-6 mb-6">
                            <h4 class="font-bold text-gray-800 mb-4">Resumen de tu cita:</h4>
                            <div class="space-y-3 text-sm">
                                <div class="flex justify-between border-b border-blue-200 pb-2">
                                    <span class="text-gray-600">Paciente:</span>
                                    <span class="font-semibold text-gray-800" id="resumen-nombre"></span>
                                </div>
                                <div class="flex justify-between border-b border-blue-200 pb-2">
                                    <span class="text-gray-600">Correo:</span>
                                    <span class="font-semibold text-gray-800" id="resumen-correo"></span>
                                </div>
                                <div class="flex justify-between border-b border-blue-200 pb-2">
                                    <span class="text-gray-600">Tel√©fono:</span>
                                    <span class="font-semibold text-gray-800" id="resumen-telefono"></span>
                                </div>
                                <div class="flex justify-between border-b border-blue-200 pb-2">
                                    <span class="text-gray-600">Tipo:</span>
                                    <span class="font-semibold text-gray-800" id="resumen-tipo"></span>
                                </div>
                                <div class="flex justify-between border-b border-blue-200 pb-2">
                                    <span class="text-gray-600">Lugar:</span>
                                    <span class="font-semibold text-gray-800" id="resumen-lugar"></span>
                                </div>
                                <div class="flex justify-between border-b border-blue-200 pb-2">
                                    <span class="text-gray-600">Especialidad:</span>
                                    <span class="font-semibold text-gray-800" id="resumen-especialidad"></span>
                                </div>
                                <div class="flex justify-between border-b border-blue-200 pb-2">
                                    <span class="text-gray-600">Fecha:</span>
                                    <span class="font-semibold text-gray-800" id="resumen-fecha"></span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Hora:</span>
                                    <span class="font-semibold text-gray-800" id="resumen-hora"></span>
                                </div>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn-primary w-full py-4 text-lg rounded-xl">
                            ‚úì Confirmar Reserva
                        </button>
                    </div>
                </form>
                
                <!-- Comprobante -->
                <div id="comprobante-cita" class="hidden">
                    <div id="comprobante-contenido" class="bg-white rounded-2xl p-8 border-2 border-purple-200">
                        <div class="text-center mb-6">
                            <div class="inline-block p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full mb-4">
                                <svg class="w-12 h-12 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-2">¬°Cita Confirmada!</h3>
                            <p class="text-gray-600">Tu cita ha sido reservada exitosamente</p>
                        </div>
                        
                        <div class="bg-gradient-to-r from-blue-100 to-teal-100 rounded-xl p-6 mb-6">
                            <p class="text-sm text-gray-600 mb-2 text-center">C√≥digo de Confirmaci√≥n</p>
                            <p class="text-3xl font-bold text-blue-600 text-center tracking-wider" id="codigo-confirmacion-final"></p>
                        </div>
                        
                        <div class="space-y-3 mb-6">
                            <div class="flex items-center justify-between py-3 border-b">
                                <span class="text-gray-600 font-medium">üë§ Paciente:</span>
                                <span class="font-bold text-gray-800" id="comp-nombre"></span>
                            </div>
                            <div class="flex items-center justify-between py-3 border-b">
                                <span class="text-gray-600 font-medium">üìß Correo:</span>
                                <span class="text-gray-800" id="comp-correo"></span>
                            </div>
                            <div class="flex items-center justify-between py-3 border-b">
                                <span class="text-gray-600 font-medium">üì± Tel√©fono:</span>
                                <span class="text-gray-800" id="comp-telefono"></span>
                            </div>
                            <div class="flex items-center justify-between py-3 border-b">
                                <span class="text-gray-600 font-medium">üè• Tipo:</span>
                                <span class="text-gray-800" id="comp-tipo"></span>
                            </div>
                            <div class="flex items-center justify-between py-3 border-b">
                                <span class="text-gray-600 font-medium">üìç Lugar:</span>
                                <span class="text-gray-800" id="comp-lugar"></span>
                            </div>
                            <div class="flex items-center justify-between py-3 border-b">
                                <span class="text-gray-600 font-medium">‚öïÔ∏è Especialidad:</span>
                                <span class="text-gray-800" id="comp-especialidad"></span>
                            </div>
                            <div class="flex items-center justify-between py-3 border-b bg-blue-50 px-4 rounded-lg">
                                <span class="text-gray-700 font-bold">üìÖ Fecha:</span>
                                <span class="font-bold text-blue-600" id="comp-fecha"></span>
                            </div>
                            <div class="flex items-center justify-between py-3 bg-blue-50 px-4 rounded-lg">
                                <span class="text-gray-700 font-bold">üïê Hora:</span>
                                <span class="font-bold text-blue-600" id="comp-hora"></span>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded">
                            <p class="text-sm text-blue-700">
                                <strong>üìß Confirmaci√≥n enviada:</strong> Recibir√°s un correo con los detalles de tu cita.
                            </p>
                        </div>
                    </div>
                    
                    <div class="flex gap-4 mt-6 no-print">
                        <button onclick="imprimirComprobante()" class="btn-primary flex-1 py-3 rounded-xl flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"/>
                            </svg>
                            Imprimir
                        </button>
                        <button onclick="descargarPDF()" class="btn-secondary flex-1 py-3 rounded-xl flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                            Descargar PDF
                        </button>
                        <button onclick="nuevaCita()" class="bg-gray-500 hover:bg-gray-600 text-white flex-1 py-3 rounded-xl font-semibold transition">
                            Nueva Cita
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECCI√ìN: MIS CITAS -->
        <section id="seccion-mis-citas" class="seccion hidden">
            <button onclick="mostrarSeccion('inicio')" class="text-blue-600 mb-6 flex items-center hover:text-blue-700 transition">‚Üê Volver</button>
            <div class="glass-effect rounded-3xl p-8 shadow-2xl max-w-6xl mx-auto">
                <div class="text-center mb-8">
                    <div class="inline-block p-4 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl mb-4">
                        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">üìã Mis Citas M√©dicas</h2>
                    <p class="text-gray-600">Gestiona y consulta tus citas programadas</p>
                </div>

                <!-- Filtros -->
                <div class="flex flex-wrap gap-3 mb-6 justify-center">
                    <button onclick="filtrarCitas('todas')" class="filtro-cita-btn active px-6 py-2 rounded-full font-semibold transition">
                        Todas
                    </button>
                    <button onclick="filtrarCitas('proximas')" class="filtro-cita-btn px-6 py-2 rounded-full font-semibold transition">
                        Pr√≥ximas
                    </button>
                    <button onclick="filtrarCitas('pasadas')" class="filtro-cita-btn px-6 py-2 rounded-full font-semibold transition">
                        Pasadas
                    </button>
                    <button onclick="filtrarCitas('canceladas')" class="filtro-cita-btn px-6 py-2 rounded-full font-semibold transition">
                        Canceladas
                    </button>
                </div>

                <!-- Lista de Citas -->
                <div id="lista-citas-usuario" class="space-y-4">
                    <!-- Se llenar√° din√°micamente con JavaScript -->
                    <div class="text-center py-12">
                        <div class="inline-block p-4 bg-gray-100 rounded-full mb-4">
                            <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                        </div>
                        <p class="text-gray-500 text-lg">Cargando tus citas...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- MODAL: SELECCI√ìN DE LUGAR EN MAPA -->
        <div id="modal-mapa" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex items-center justify-between">
                        <h3 class="text-2xl font-bold text-gray-800">üìç Selecciona el lugar de atenci√≥n</h3>
                        <button onclick="cerrarModalMapa()" class="text-gray-500 hover:text-gray-700 text-3xl leading-none">&times;</button>
                    </div>
                    <p class="text-gray-600 mt-2">Haz clic en un marcador del mapa para seleccionar el hospital o cl√≠nica</p>
                </div>
                
                <div class="p-6">
                    <!-- Mapa -->
                    <div id="mapa-seleccion" class="w-full h-96 rounded-xl border-2 border-gray-300 mb-4"></div>
                    
                    <!-- Lugar seleccionado -->
                    <div id="lugar-seleccionado-info" class="hidden bg-gradient-to-r from-blue-50 to-teal-50 border-2 border-blue-300 rounded-xl p-4 mb-4">
                        <h4 class="font-bold text-gray-800 mb-2">‚úì Lugar seleccionado:</h4>
                        <p class="text-lg font-semibold text-blue-600" id="nombre-lugar-seleccionado"></p>
                        <p class="text-sm text-gray-600" id="direccion-lugar-seleccionado"></p>
                    </div>
                    
                    <div class="flex gap-4">
                        <button onclick="cerrarModalMapa()" class="flex-1 px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl font-semibold transition">
                            Cancelar
                        </button>
                        <button onclick="confirmarLugarSeleccionado()" id="btn-confirmar-lugar" disabled class="flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition disabled:opacity-50 disabled:cursor-not-allowed">
                            Confirmar Selecci√≥n
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECCI√ìN: DOCUMENTOS M√âDICOS -->
        <section id="seccion-documentos" class="seccion hidden">
            <button onclick="mostrarSeccion('inicio')" class="text-blue-600 mb-6 flex items-center hover:text-blue-700 transition">‚Üê Volver</button>
            
            <div class="glass-effect rounded-3xl p-8 shadow-2xl max-w-4xl mx-auto">
                <!-- Encabezado -->
                <div class="text-center mb-8">
                    <div class="inline-block p-4 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-2xl mb-4">
                        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">üìÑ Analizar Documentos M√©dicos</h2>
                    <p class="text-gray-600">Sube tu documento y la IA te lo explicar√° en lenguaje simple</p>
                </div>

                <!-- Tipos de documentos -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4 text-center">Documentos que puedes analizar:</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <div class="bg-blue-50 border-2 border-blue-200 rounded-xl p-3 text-center">
                            <p class="text-2xl mb-1">ü©∫</p>
                            <p class="text-xs font-semibold text-gray-700">Informe M√©dico</p>
                        </div>
                        <div class="bg-green-50 border-2 border-green-200 rounded-xl p-3 text-center">
                            <p class="text-2xl mb-1">üìã</p>
                            <p class="text-xs font-semibold text-gray-700">Epicrisis</p>
                        </div>
                        <div class="bg-red-50 border-2 border-red-200 rounded-xl p-3 text-center">
                            <p class="text-2xl mb-1">üß™</p>
                            <p class="text-xs font-semibold text-gray-700">Ex√°menes</p>
                        </div>
                        <div class="bg-purple-50 border-2 border-purple-200 rounded-xl p-3 text-center">
                            <p class="text-2xl mb-1">üìú</p>
                            <p class="text-xs font-semibold text-gray-700">Certificado</p>
                        </div>
                        <div class="bg-yellow-50 border-2 border-yellow-200 rounded-xl p-3 text-center">
                            <p class="text-2xl mb-1">üìù</p>
                            <p class="text-xs font-semibold text-gray-700">Referencia</p>
                        </div>
                        <div class="bg-indigo-50 border-2 border-indigo-200 rounded-xl p-3 text-center">
                            <p class="text-2xl mb-1">‚úÖ</p>
                            <p class="text-xs font-semibold text-gray-700">Constancia</p>
                        </div>
                        <div class="bg-pink-50 border-2 border-pink-200 rounded-xl p-3 text-center">
                            <p class="text-2xl mb-1">üíä</p>
                            <p class="text-xs font-semibold text-gray-700">Receta</p>
                        </div>
                        <div class="bg-teal-50 border-2 border-teal-200 rounded-xl p-3 text-center">
                            <p class="text-2xl mb-1">üî¨</p>
                            <p class="text-xs font-semibold text-gray-700">Laboratorio</p>
                        </div>
                    </div>
                </div>

                <!-- Formulario de carga SIMPLE -->
                <div id="area-carga" class="mb-8">
                    <div class="border-4 border-dashed border-blue-300 rounded-2xl p-12 text-center bg-blue-50">
                        <svg class="w-16 h-16 mx-auto mb-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                        </svg>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Selecciona tu documento m√©dico</h3>
                        <p class="text-gray-600 mb-6">Haz clic en el bot√≥n para elegir un archivo</p>
                        
                        <!-- Input file visible para debugging -->
                        <label for="file-input" class="btn-primary px-8 py-4 text-lg inline-block cursor-pointer">
                            üì∑ Seleccionar Archivo
                        </label>
                        <input type="file" id="file-input" accept="image/jpeg,image/jpg,image/png,application/pdf" class="hidden">
                        
                        <p class="text-xs text-gray-500 mt-4">Formatos: JPG, PNG, PDF (M√°x. 10MB)</p>
                    </div>
                </div>

                <!-- Vista previa -->
                <div id="vista-previa" class="hidden mb-8">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">üìÑ Documento Cargado:</h3>
                    <div class="bg-white rounded-xl p-4 border-2 border-gray-200">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="bg-blue-100 p-3 rounded-lg">
                                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                </div>
                                <div>
                                    <p id="nombre-archivo" class="font-semibold text-gray-800"></p>
                                    <p id="tamano-archivo" class="text-sm text-gray-500"></p>
                                </div>
                            </div>
                            <button onclick="cancelarArchivo()" class="text-red-600 hover:text-red-700 font-semibold">
                                ‚úï Eliminar
                            </button>
                        </div>
                        <img id="preview-imagen" class="w-full rounded-lg max-h-96 object-contain bg-gray-50" alt="Preview">
                    </div>
                    <button onclick="analizarDocumento()" class="btn-primary w-full py-4 mt-4 text-lg font-bold">
                        ü§ñ Analizar con IA
                    </button>
                </div>

                <!-- Loader -->
                <div id="loader-analisis" class="hidden text-center py-12">
                    <div class="inline-block animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mb-4"></div>
                    <p id="loader-texto" class="text-lg font-semibold text-gray-700">Analizando documento...</p>
                    <p id="loader-subtexto" class="text-sm text-gray-500 mt-2">La IA est√° leyendo y procesando tu documento</p>
                    <div id="loader-progreso" class="mt-4 max-w-md mx-auto">
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div id="barra-progreso" class="bg-blue-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <!-- Resultado -->
                <div id="resultado-analisis" class="hidden">
                    <div class="bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-6 mb-6">
                        <div class="flex items-center mb-4">
                            <div class="bg-green-500 p-3 rounded-full mr-4">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800">An√°lisis Completado</h3>
                        </div>
                        <p class="text-gray-600">La IA ha analizado tu documento y aqu√≠ est√° la explicaci√≥n en lenguaje simple:</p>
                    </div>

                    <div class="bg-white rounded-2xl p-6 border-2 border-gray-200 mb-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <span class="bg-blue-100 text-blue-600 p-2 rounded-lg mr-3">üìã</span>
                            Explicaci√≥n Simple
                        </h4>
                        <div id="texto-explicacion" class="prose max-w-none text-gray-700 leading-relaxed">
                            <!-- Se llenar√° con la respuesta -->
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="copiarTexto()" class="btn-secondary flex-1 py-3 rounded-xl">
                            üìã Copiar An√°lisis
                        </button>
                        <button onclick="resetearFormulario()" class="btn-primary flex-1 py-3 rounded-xl">
                            üìÑ Analizar Otro Documento
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECCI√ìN: MAPA DE CL√çNICAS Y HOSPITALES -->
        <section id="seccion-mapa" class="seccion hidden">
            <button onclick="mostrarSeccion('inicio')" class="text-blue-600 mb-6 flex items-center hover:text-blue-700 transition">‚Üê Volver</button>
            <div class="glass-effect rounded-3xl p-8 shadow-2xl max-w-6xl mx-auto">
                <div class="text-center mb-8">
                    <div class="inline-block p-4 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl mb-4">
                        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">üó∫Ô∏è Cl√≠nicas y Hospitales en El Salvador</h2>
                    <p class="text-gray-600">Encuentra centros m√©dicos cerca de ti</p>
                </div>
                
                <!-- Filtros -->
                <div class="mb-6 flex flex-wrap gap-3 justify-center">
                    <button onclick="filtrarMapa('todos')" class="filter-btn active" data-filter="todos">
                        üè• Todos
                    </button>
                    <button onclick="filtrarMapa('hospital')" class="filter-btn" data-filter="hospital">
                        üè• Hospitales
                    </button>
                    <button onclick="filtrarMapa('clinica')" class="filter-btn" data-filter="clinica">
                        üè• Cl√≠nicas
                    </button>
                    <button onclick="filtrarMapa('centro-salud')" class="filter-btn" data-filter="centro-salud">
                        ‚öïÔ∏è Centros de Salud
                    </button>
                </div>
                
                <!-- Mapa -->
                <div id="mapa" class="w-full h-[600px] rounded-2xl shadow-lg border-4 border-white overflow-hidden"></div>
                
                <!-- Lista de ubicaciones -->
                <div class="mt-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">üìç Ubicaciones Disponibles</h3>
                    <div id="lista-ubicaciones" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Se llenar√° din√°micamente con JavaScript -->
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- MODAL DE AUTENTICACI√ìN CON 2 TABS - DISE√ëO MEJORADO -->
    <div id="modal-auth" class="modal hidden">
        <div class="modal-content bg-white rounded-3xl max-w-md w-full mx-4 shadow-2xl overflow-hidden transform transition-all">
            
            <!-- Header con gradiente -->
            <div class="bg-gradient-to-r from-blue-600 via-purple-600 to-teal-600 p-6 text-center">
                <div class="inline-block p-4 bg-white/20 backdrop-blur-sm rounded-2xl mb-3">
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                    </svg>
                </div>
                <h2 class="text-2xl font-bold text-white mb-1">SaludSimple</h2>
                <p class="text-blue-100 text-sm">Tu asistente m√©dico inteligente</p>
            </div>
            
            <!-- Tabs mejorados -->
            <div class="flex bg-gray-50 border-b border-gray-200">
                <button id="tab-login" onclick="cambiarTab('login')" class="flex-1 py-4 text-center font-bold text-blue-600 bg-white border-b-4 border-blue-600 transition-all duration-300">
                    <span class="flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
                        </svg>
                        Iniciar Sesi√≥n
                    </span>
                </button>
                <button id="tab-registro" onclick="cambiarTab('registro')" class="flex-1 py-4 text-center font-semibold text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-all duration-300">
                    <span class="flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/>
                        </svg>
                        Registrarse
                    </span>
                </button>
            </div>

            <!-- TAB: INICIAR SESI√ìN -->
            <div id="content-login" class="p-8">
                <div class="text-center mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">¬°Bienvenido de nuevo! üëã</h3>
                    <p class="text-gray-500">Inicia sesi√≥n para acceder a tu cuenta</p>
                </div>

                <!-- Formulario Email/Password -->
                <form id="form-login" onsubmit="handleLoginLocal(event)" class="space-y-5 mb-6">
                    <div class="relative">
                        <label class="block text-sm font-bold text-gray-700 mb-2">
                            <span class="flex items-center">
                                <svg class="w-4 h-4 mr-1.5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                </svg>
                                Correo Electr√≥nico
                            </span>
                        </label>
                        <input type="email" id="login-email" required 
                               class="w-full px-4 py-3.5 pl-12 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-300 text-gray-800 placeholder-gray-400" 
                               placeholder="ejemplo@correo.com">
                        <svg class="w-5 h-5 text-gray-400 absolute left-4 top-[42px]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"/>
                        </svg>
                    </div>
                    <div class="relative">
                        <label class="block text-sm font-bold text-gray-700 mb-2">
                            <span class="flex items-center">
                                <svg class="w-4 h-4 mr-1.5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                </svg>
                                Contrase√±a
                            </span>
                        </label>
                        <input type="password" id="login-password" required 
                               class="w-full px-4 py-3.5 pl-12 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-300 text-gray-800 placeholder-gray-400" 
                               placeholder="Ingresa tu contrase√±a">
                        <svg class="w-5 h-5 text-gray-400 absolute left-4 top-[42px]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
                        </svg>
                    </div>
                    <button type="submit" class="w-full bg-gradient-to-r from-blue-600 via-purple-600 to-teal-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:shadow-blue-500/50 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98]">
                        <span class="flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                            Iniciar Sesi√≥n
                        </span>
                    </button>
                </form>

                <!-- Separador elegante -->
                <div class="relative my-8">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t-2 border-gray-200"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-4 bg-white text-gray-500 font-semibold">O contin√∫a con</span>
                    </div>
                </div>

                <!-- Google Sign-In mejorado -->
                <div class="mb-6">
                    <div class="flex justify-center">
                        <div id="g_id_onload"
                             data-client_id="33448340879-gb25tjh34q6ji7m35tpf0ajq7rkpf0v4.apps.googleusercontent.com"
                             data-callback="handleCredentialResponse"
                             data-auto_prompt="false">
                        </div>
                        <div class="g_id_signin"
                             data-type="standard"
                             data-size="large"
                             data-theme="outline"
                             data-text="signin_with"
                             data-shape="pill"
                             data-logo_alignment="left"
                             data-width="320">
                        </div>
                    </div>
                </div>

                <button onclick="cerrarModalAuth()" class="w-full text-gray-500 hover:text-gray-700 py-3 text-sm font-semibold mt-4 hover:bg-gray-50 rounded-lg transition-all">
                    Cancelar
                </button>
            </div>

            <!-- TAB: REGISTRARSE -->
            <div id="content-registro" class="p-8 hidden">
                <div class="text-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Crear Cuenta Nueva ‚ú®</h3>
                    <p class="text-gray-500">√önete a SaludSimple y cuida tu salud</p>
                </div>

                <form id="form-registro" onsubmit="handleRegistroLocal(event)" class="space-y-4">
                    <!-- Nombre y Email en 2 columnas -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="relative">
                            <label class="block text-sm font-bold text-gray-700 mb-1.5">
                                <span class="flex items-center">
                                    <svg class="w-3.5 h-3.5 mr-1 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                    </svg>
                                    Nombre
                                </span>
                            </label>
                            <input type="text" id="registro-nombre" required 
                                   class="w-full px-3 py-2.5 pl-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-100 focus:border-teal-500 transition-all text-gray-800 placeholder-gray-400 text-sm" 
                                   placeholder="Juan P√©rez">
                            <svg class="w-4 h-4 text-gray-400 absolute left-3 top-[38px]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        
                        <div class="relative">
                            <label class="block text-sm font-bold text-gray-700 mb-1.5">
                                <span class="flex items-center">
                                    <svg class="w-3.5 h-3.5 mr-1 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                    </svg>
                                    Tel√©fono <span class="text-gray-400 font-normal text-xs">(opc.)</span>
                                </span>
                            </label>
                            <input type="tel" id="registro-telefono" 
                                   class="w-full px-3 py-2.5 pl-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-100 focus:border-teal-500 transition-all text-gray-800 placeholder-gray-400 text-sm" 
                                   placeholder="7777-7777">
                            <svg class="w-4 h-4 text-gray-400 absolute left-3 top-[38px]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Email -->
                    <div class="relative">
                        <label class="block text-sm font-bold text-gray-700 mb-1.5">
                            <span class="flex items-center">
                                <svg class="w-3.5 h-3.5 mr-1 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                </svg>
                                Correo Electr√≥nico
                            </span>
                        </label>
                        <input type="email" id="registro-email" required 
                               class="w-full px-3 py-2.5 pl-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-100 focus:border-teal-500 transition-all text-gray-800 placeholder-gray-400 text-sm" 
                               placeholder="ejemplo@correo.com">
                        <svg class="w-4 h-4 text-gray-400 absolute left-3 top-[38px]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"/>
                        </svg>
                    </div>
                    
                    <!-- Contrase√±as en 2 columnas -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="relative">
                            <label class="block text-sm font-bold text-gray-700 mb-1.5">
                                <span class="flex items-center">
                                    <svg class="w-3.5 h-3.5 mr-1 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                    </svg>
                                    Contrase√±a
                                </span>
                            </label>
                            <input type="password" id="registro-password" required minlength="6" 
                                   class="w-full px-3 py-2.5 pl-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-100 focus:border-teal-500 transition-all text-gray-800 placeholder-gray-400 text-sm" 
                                   placeholder="M√≠n. 6 caracteres">
                            <svg class="w-4 h-4 text-gray-400 absolute left-3 top-[38px]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
                            </svg>
                        </div>
                        
                        <div class="relative">
                            <label class="block text-sm font-bold text-gray-700 mb-1.5">
                                <span class="flex items-center">
                                    <svg class="w-3.5 h-3.5 mr-1 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    Confirmar
                                </span>
                            </label>
                            <input type="password" id="registro-password-confirm" required minlength="6" 
                                   class="w-full px-3 py-2.5 pl-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-100 focus:border-teal-500 transition-all text-gray-800 placeholder-gray-400 text-sm" 
                                   placeholder="Repite contrase√±a">
                            <svg class="w-4 h-4 text-gray-400 absolute left-3 top-[38px]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                            </svg>
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-teal-600 via-blue-600 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:shadow-teal-500/50 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] mt-6">
                        <span class="flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/>
                            </svg>
                            Crear Cuenta
                        </span>
                    </button>
                </form>

                <button onclick="cerrarModalAuth()" class="w-full text-gray-500 hover:text-gray-700 py-3 text-sm font-semibold mt-4 hover:bg-gray-50 rounded-lg transition-all">
                    Cancelar
                </button>
            </div>

        </div>
    </div>

    <!-- FOOTER -->
    <footer class="bg-gradient-to-r from-gray-800 to-gray-900 text-white py-12 mt-16">
        <div class="container mx-auto px-6 text-center">
            <div class="flex items-center justify-center mb-4">
                <svg class="w-8 h-8 mr-2" viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="45" fill="url(#logoGrad)"/>
                    <rect x="42" y="25" width="16" height="50" rx="3" fill="white" opacity="0.95"/>
                    <rect x="25" y="42" width="50" height="16" rx="3" fill="white" opacity="0.95"/>
                </svg>
                <span class="text-xl font-bold">SaludSimple</span>
            </div>
            <p class="text-gray-300 mb-4">¬© 2025 SaludSimple ‚Äî Tu salud explicada de forma simple</p>
            <div class="flex justify-center space-x-6 text-sm text-gray-400">
                <a href="#" class="hover:text-white transition">T√©rminos</a>
                <a href="#" class="hover:text-white transition">Privacidad</a>
                <a href="#" class="hover:text-white transition">Contacto</a>
            </div>
        </div>
    </footer>

    <!-- Leaflet JS para el mapa -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <!-- EmailJS para env√≠o de correos -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <!-- Sistema de autenticaci√≥n -->
    <script src="script.js?v=107"></script>
</body>
</html>
